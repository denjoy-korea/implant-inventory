# 가격정책 계획서

> **Feature**: pricing-policy
> **Phase**: Plan
> **작성일**: 2026-02-14
> **갱신일**: 2026-02-15
> **상태**: Updated (Supabase 연동 완료 반영)
> **PDCA Cycle**: #3

---

## 1. 배경 및 목적

### 현재 상황
- 임플란트 재고관리 웹서비스가 **Supabase 백엔드 연동 완료** (PDCA #2, 94%)
- Supabase Auth (JWT), PostgreSQL (RLS), Realtime, Storage 구축 완료
- 병원별 데이터 격리, 역할 기반 권한(Master/Staff), 8개 핵심 기능 모듈 구현 완료
- **PricingPage.tsx UI 구현 완료** (4플랜 체계, FAQ, 비교표)
- 기능 게이팅 및 결제 연동은 **미구현** → 이번 PDCA 범위

### 목적
- 플랜 상태를 DB에 관리하고 기능 게이팅 로직 구현
- PG사 결제 연동 (구독 결제)
- 무료 체험 → 유료 전환 퍼널 백엔드 구현

---

## 2. 타겟 고객 분석

### 주요 고객 세그먼트

| 세그먼트 | 규모 | 특징 | 추정 비율 |
|---------|------|------|----------|
| **소형 치과** | 유닛 1~3대 | 원장 1인 운영, 월 수술 10~30건 | 60% |
| **중형 치과** | 유닛 4~7대 | 원장 + 스태프 2~5명, 월 수술 30~80건 | 30% |
| **대형/네트워크** | 유닛 8대 이상 | 다지점, 스태프 5명 이상, 월 수술 80건+ | 10% |

### 핵심 가치 제안
- 수술기록 기반 자동 재고 추적 (수동 재고실사 제거)
- 14개 제조사 사이즈 포맷 자동 정규화 매칭
- FAIL 교환 추적 및 발주 최적화
- 치과 경영 데이터 시각화

---

## 3. 요금제 체계 (PricingPage.tsx 기준)

### 3.1 플랜 구성 (4단계)

#### Free (무료)

| 항목 | 내용 |
|------|------|
| **가격** | 0원/월 |
| **목적** | 서비스 체험, 소형 치과 유입 |
| **계정 수** | 1명 |
| **재고 품목 수** | 최대 50개 |
| **수술기록 저장** | 최근 3개월분 |
| **포함 기능** | 재고 현황 대시보드, 엑셀 업로드/다운로드 |
| **한정** | 100곳 |
| **데이터 저장** | 클라우드 (Supabase) |

#### Basic (베이직) - 개인용

| 항목 | 내용 |
|------|------|
| **가격** | 월 19,000원 (연 결제 시 15,000원/월) |
| **목적** | 임플란트 담당자 개인용 |
| **계정 수** | 1명 |
| **재고 품목 수** | 최대 200개 |
| **수술기록 저장** | 최근 6개월분 |
| **포함 기능** | Free + 브랜드별 소모량 분석 |
| **한정** | 80곳 |

#### Plus (플러스) - 기업용 (추천)

| 항목 | 내용 |
|------|------|
| **가격** | 월 49,000원 (연 결제 시 39,000원/월) |
| **목적** | 성장하는 치과 (핵심 고객층) |
| **계정 수** | 최대 5명 |
| **재고 품목 수** | 최대 500개 |
| **수술기록 저장** | 최근 12개월분 |
| **포함 기능** | Basic + 고급 분석 대시보드, 자동 재고 알림, 월간 리포트, 이메일 지원 |
| **한정** | 50곳 |

#### Business (비즈니스) - 기업용

| 항목 | 내용 |
|------|------|
| **가격** | 월 99,000원 (연 결제 시 79,000원/월) |
| **목적** | 대형 치과 및 네트워크 |
| **계정 수** | 무제한 |
| **재고 품목 수** | 무제한 |
| **수술기록 저장** | 24개월분 |
| **포함 기능** | Plus + AI 수요 예측, 원클릭 발주, 거래처 관리, 역할별 권한 관리, 감사 로그, 우선 지원 |
| **한정** | 20곳 |

### 3.2 플랜별 기능 비교표

| 기능 | Free | Basic | Plus | Business |
|------|:----:|:-----:|:----:|:--------:|
| 재고 품목 수 | 50개 | 200개 | 500개 | 무제한 |
| 수술 기록 보관 | 3개월 | 6개월 | 12개월 | 24개월 |
| 엑셀 업로드/다운로드 | O | O | O | O |
| 대시보드 | 기본 | 기본 | 고급 | 고급 |
| 실시간 재고 현황 | O | O | O | O |
| 브랜드별 소모량 분석 | - | O | O | O |
| 자동 재고 알림 | - | - | O | O |
| 월간 리포트 | - | - | O | O |
| 연간 리포트 | - | - | - | O |
| 거래처 관리 | - | - | - | O |
| 원클릭 발주 | - | - | - | O |
| AI 수요 예측 | - | - | - | O |
| 역할별 권한 관리 | - | - | O | O |
| 감사 로그 | - | - | - | O |
| 사용자 수 | 1명 | 1명 | 5명 | 무제한 |
| 데이터 암호화 | O | O | O | O |
| 이메일 지원 | - | - | O | O |
| 우선 지원 (채팅+전화) | - | - | - | O |

---

## 4. 가격 산정 근거

### 4.1 경쟁사 분석

| 서비스 | 유형 | 가격대 | 비고 |
|--------|------|--------|------|
| 덴트웹 | 치과 통합관리 | 월 50,000~150,000원 | 예약+차트+재고 포함 |
| 덴탈마스터 | 치과 경영관리 | 월 30,000~100,000원 | 예약 중심 |
| 일반 SaaS 재고관리 | 범용 재고 | 월 30,000~80,000원 | 치과 특화 아님 |

### 4.2 가격 포지셔닝
- **Basic 19,000원**: 개인 담당자용 진입 장벽 최소화, 소모량 분석으로 차별화
- **Plus 49,000원**: 범용 재고관리 SaaS 수준, 치과 전문 기능 + 팀 기능
- **Business 99,000원**: 덴트웹 대비 저렴, 임플란트 재고 특화 + AI 예측
- **연 결제 20% 할인**: 고객 이탈률 감소 + 현금흐름 안정화

### 4.3 목표 매출 시나리오 (12개월 후)

| 항목 | 수치 | 산출 근거 |
|------|------|-----------|
| 가입 병원 수 | 250곳 | 한정 수량 합계(100+80+50+20) |
| Free 유지 | 100곳 (40%) | 체험 후 미전환 |
| Basic 전환 | 80곳 (32%) | 개인 담당자 |
| Plus 전환 | 50곳 (20%) | 핵심 수익층 |
| Business 전환 | 20곳 (8%) | 대형 치과 |
| **월 매출 (MRR)** | **약 5,950,000원** | Basic 80x19K + Plus 50x49K + Business 20x99K |
| **연 매출 (ARR)** | **약 71,400,000원** | MRR x 12 |

---

## 5. 전환 퍼널 설계

### 5.1 무료 → 유료 전환 전략

```
가입 → Free 체험(14일 Plus 기능 전체 개방)
  → 체험 종료 → Free 제한 적용
  → 기능 제한 시 업그레이드 유도 팝업
  → Basic/Plus 전환
```

### 5.2 전환 트리거 포인트 (기능 게이팅)

| 트리거 | 시점 | 유도 메시지 | 최소 플랜 |
|--------|------|------------|:---------:|
| 재고 50개 초과 | 품목 추가 시 | "Basic으로 업그레이드하면 200개까지 관리할 수 있습니다" | Basic |
| 소모량 분석 접근 | 탭 클릭 시 | "브랜드별 소모량 분석은 Basic 이상에서 사용 가능합니다" | Basic |
| 자동 재고 알림 | 설정 시 | "자동 재고 알림은 Plus 이상에서 사용 가능합니다" | Plus |
| 스태프 초대 (2명+) | 구성원 관리 시 | "팀 기능은 Plus에서 사용 가능합니다" | Plus |
| AI 수요 예측 | 기능 접근 시 | "AI 예측은 Business에서 사용 가능합니다" | Business |
| 6개월 초과 데이터 | 수술기록 업로드 시 | "전체 이력 보관은 Plus로 업그레이드하세요" | Plus |

### 5.3 체험 기간 정책
- **최초 가입 시**: 14일간 Plus 기능 전체 무료 체험
- **체험 종료 후**: 자동으로 Free 플랜으로 전환 (데이터 유지, 기능만 제한)
- **연 결제 유도**: "연 결제 시 2개월 무료" 프로모션

---

## 6. 구현 범위 (이번 PDCA)

### 6.1 선행 조건 (완료됨)
- [x] ~~서버/DB 구축~~ → Supabase 연동 완료 (PDCA #2)
- [x] ~~인증 보안 강화~~ → Supabase Auth + JWT 완료
- [ ] 결제 사업자 등록 → PG사 계약 필요 (구현 범위 밖)

### 6.2 구현 우선순위

| 순서 | 항목 | 설명 | 범위 |
|:----:|------|------|:----:|
| P-01 | **플랜 DB 스키마** | hospitals 테이블에 plan, plan_expiry, trial_started_at 필드 추가 | DB |
| P-02 | **플랜 상수 정의** | PLAN_LIMITS 상수 (플랜별 품목 수, 사용자 수, 보관 기간 등) | types.ts |
| P-03 | **기능 게이팅 서비스** | planService.ts - 플랜 확인, 기능 접근 제어 | Service |
| P-04 | **기능 게이팅 컴포넌트** | FeatureGate.tsx - 기능 잠금 UI (업그레이드 유도 모달) | Component |
| P-05 | **대시보드 플랜 표시** | 현재 플랜, 사용량, 만료일 표시 | Component |
| P-06 | **플랜 변경 UI** | 업그레이드/다운그레이드 선택 화면 | Component |
| P-07 | **체험 기간 로직** | 14일 무료 체험 시작/종료 자동 처리 | Service |
| P-08 | **결제 연동** | 토스페이먼츠 정기결제 API 연동 | Service |
| P-09 | **구독 관리** | 자동 갱신, 해지, 만료 처리 | Service |
| P-10 | **PricingPage 연동** | 기존 PricingPage.tsx에서 실제 결제 플로우 연결 | Component |

### 6.3 PDCA 범위 구분

| 범위 | 항목 | 비고 |
|:----:|------|------|
| **In Scope** | P-01 ~ P-07 | 기능 게이팅 + 체험 기간 (결제 없이 동작) |
| **Phase 2** | P-08 ~ P-10 | PG사 계약 후 결제 연동 |
| **Out of Scope** | Enterprise 다지점 통합 | 별도 PDCA |
| **Out of Scope** | AI 수요 예측 | 별도 PDCA |

### 6.4 결제 수단 (Phase 2)
- **1순위**: 카드 정기결제 (토스페이먼츠)
- **2순위**: 계좌이체 (Business 고객)
- **세금계산서**: 사업자 고객 대상 자동 발행

---

## 7. 파일 변경 목록

### 신규 파일

| 파일 | 역할 |
|------|------|
| `services/planService.ts` | 플랜 관리 서비스 (확인, 게이팅, 체험) |
| `components/FeatureGate.tsx` | 기능 잠금 UI 래퍼 컴포넌트 |
| `components/UpgradeModal.tsx` | 업그레이드 유도 모달 |
| `components/PlanBadge.tsx` | 플랜 표시 배지 |
| `supabase/005_plan_schema.sql` | hospitals 테이블 플랜 필드 추가 |

### 수정 파일

| 파일 | 변경 내용 |
|------|-----------|
| `types.ts` | PlanType, PlanLimits 타입 추가 |
| `App.tsx` | 플랜 상태 로드, FeatureGate 적용 |
| `components/PricingPage.tsx` | 실제 플랜 변경 연동 (현재 UI만) |
| `components/DashboardOverview.tsx` | 플랜 정보, 사용량 표시 |
| `components/UserProfile.tsx` | 현재 플랜, 만료일 표시 |
| `components/Header.tsx` | 플랜 배지 표시 |

---

## 8. 리스크 및 대응

| 리스크 | 영향도 | 대응 방안 |
|--------|:------:|-----------|
| Free 사용자 전환율 저조 | 높음 | 14일 체험 중 핵심 가치 경험 유도 |
| 경쟁사 가격 경쟁 | 중간 | 임플란트 사이즈 매칭 등 고유 기능 차별화 |
| PG사 계약 지연 | 중간 | Phase 1(게이팅)만 먼저 출시, 결제는 Phase 2 |
| 해지율 증가 | 중간 | 연 결제 할인 강화, 데이터 축적 효과 |
| 소규모 치과 가격 저항 | 중간 | Basic 19,000원 진입 플랜 제공 |

---

## 9. 마일스톤

| 단계 | 내용 | 예상 기간 |
|:----:|------|-----------|
| M1 | DB 스키마 + 타입 정의 + 플랜 서비스 | 1일 |
| M2 | 기능 게이팅 컴포넌트 + 대시보드 연동 | 2일 |
| M3 | 체험 기간 로직 + PricingPage 연동 | 1일 |
| M4 | 통합 테스트 + Gap Analysis | 1일 |
| M5 | (Phase 2) PG사 결제 연동 | 별도 |

---

## 10. 의사결정 사항 (확정)

- [x] 플랜명: Free / Basic / Plus / Business (PricingPage.tsx 기준)
- [x] Basic 가격: 19,000원/월 (연 15,000원)
- [x] Plus 가격: 49,000원/월 (연 39,000원)
- [x] Business 가격: 99,000원/월 (연 79,000원)
- [x] 무료 체험 기간: 14일
- [x] Free 플랜 재고 제한: 50개
- [x] 서버: Supabase (완료)
- [ ] PG사 선정 (토스페이먼츠 vs 포트원)
- [ ] Enterprise 플랜 추가 여부

---

## 변경 이력

| 날짜 | 내용 | 작성자 |
|------|------|--------|
| 2026-02-14 | 초안 작성 (Draft) | Claude |
| 2026-02-15 | PricingPage.tsx 기준 업데이트, Supabase 연동 반영, 4플랜 체계 확정 | Claude |
