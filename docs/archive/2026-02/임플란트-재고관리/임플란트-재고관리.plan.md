# Plan: 임플란트-재고관리

> 치과 병원용 임플란트 재고관리 시스템

## 1. 프로젝트 개요

### 1.1 목적
치과 병원에서 임플란트 픽스쳐(fixture)의 재고를 체계적으로 관리하고, 수술 기록과 연동하여 실시간 재고 현황 파악, 자동 발주 추천, FAIL 관리를 수행하는 웹 애플리케이션.

### 1.2 배경
- 치과 병원에서 임플란트 재고를 수작업(엑셀)으로 관리하는 비효율 해소
- 수술 기록과 재고 데이터 간 불일치 문제 해결
- 제조사/브랜드/규격별 사용량 분석을 통한 최적 재고 유지

### 1.3 대상 사용자
| 역할 | 설명 |
|------|------|
| Master (원장) | 병원 생성, 전체 관리, 재고/수술 데이터 관리 |
| Staff (직원) | 병원 가입 후 승인 대기, 승인 시 데이터 조회 |
| System Admin | 전체 시스템 관리 (admin 계정) |

## 2. 핵심 기능 (Feature List)

### 2.1 인증 및 병원 관리
- [F-01] 회원가입/로그인 (localStorage 기반)
- [F-02] 병원 생성 (Master 역할)
- [F-03] 병원 검색 및 가입 요청 (Staff 역할)
- [F-04] 직원 승인/거절 관리
- [F-05] 병원별 데이터 격리 (hospitalId prefix)

### 2.2 데이터 업로드 및 가공
- [F-06] 엑셀 파일 업로드 (픽스쳐 로우데이터)
- [F-07] 엑셀 파일 업로드 (수술기록지)
- [F-08] 수술기록 자동 파싱 (제조사/브랜드/규격/구분 추출)
- [F-09] 데이터 설정/가공 (제조사 토글, 브랜드 차트)
- [F-10] 가공 데이터 엑셀 다운로드

### 2.3 재고 관리
- [F-11] 재고 마스터 관리 (CRUD)
- [F-12] 수술기록 기반 사용량 자동 계산
- [F-13] 현재 재고 = 초기재고 + 입고 - 사용량 자동 산출
- [F-14] 월평균 사용량 / 일최대 사용량 분석
- [F-15] 적정 재고 추천 (dailyMax * 2 또는 monthlyAvg)

### 2.4 주문 관리
- [F-16] 보충 주문 생성
- [F-17] 빠른 주문 (재고 부족 시 원클릭)
- [F-18] 주문 상태 관리 (ordered -> received)
- [F-19] 입고 완료 시 재고 자동 반영

### 2.5 FAIL 관리
- [F-20] 수술 중 FAIL 건 추적
- [F-21] FAIL 교환 주문 생성
- [F-22] FAIL 교환 완료 시 수술기록 상태 업데이트

### 2.6 대시보드 및 분석
- [F-23] Overview 대시보드 (재고 현황, 주문 현황, 수술 통계)
- [F-24] 수술 통계 (SurgeryStats)
- [F-25] 데이터 분석 페이지 (AnalyzePage)

### 2.7 구성원 관리
- [F-26] 병원 구성원 목록 조회
- [F-27] 직원 승인/거절/삭제
- [F-28] 프로필 관리 (병원 탈퇴, 회원 탈퇴)

### 2.8 랜딩 및 마케팅 페이지
- [F-29] 랜딩 페이지
- [F-30] 가격 정책 페이지
- [F-31] 가치 소개 페이지
- [F-32] 문의 페이지

## 3. 기술 스택

| 구분 | 기술 |
|------|------|
| Frontend | React 19, TypeScript 5.8 |
| Build Tool | Vite 6 |
| Styling | Tailwind CSS (CDN) |
| 엑셀 처리 | xlsx (SheetJS) |
| 상태 관리 | React useState (단일 AppState) |
| 데이터 저장 | localStorage (병원별 prefix 격리) |
| 배포 | 정적 빌드 (dist/) |

## 4. 프로젝트 구조

```
/
├── App.tsx                    # 메인 앱 (라우팅, 상태관리)
├── types.ts                   # TypeScript 타입 정의
├── index.tsx                  # 엔트리 포인트
├── index.css                  # 글로벌 스타일
├── components/
│   ├── Header.tsx             # 헤더 (비대시보드)
│   ├── Sidebar.tsx            # 사이드바 내비게이션
│   ├── LandingPage.tsx        # 랜딩 페이지
│   ├── AuthForm.tsx           # 로그인/회원가입
│   ├── StaffWaitingRoom.tsx   # 직원 승인 대기
│   ├── DashboardOverview.tsx  # 대시보드 개요
│   ├── UploadSection.tsx      # 파일 업로드 UI
│   ├── ExcelTable.tsx         # 엑셀 데이터 테이블
│   ├── ManufacturerToggle.tsx # 제조사 토글
│   ├── BrandChart.tsx         # 브랜드 차트
│   ├── InventoryManager.tsx   # 재고 마스터 관리
│   ├── FailManager.tsx        # FAIL 관리
│   ├── OrderManager.tsx       # 주문 관리
│   ├── SurgeryStats.tsx       # 수술 통계
│   ├── MemberManager.tsx      # 구성원 관리
│   ├── UserProfile.tsx        # 사용자 프로필
│   ├── SystemAdminDashboard.tsx # 시스템 관리자
│   ├── AdminPanel.tsx         # 관리자 패널
│   ├── PricingPage.tsx        # 가격 페이지
│   ├── ContactPage.tsx        # 문의 페이지
│   ├── ValuePage.tsx          # 가치 소개
│   ├── AnalyzePage.tsx        # 분석 페이지
│   └── NewDataModal.tsx       # 데이터 추가 모달
├── services/
│   ├── excelService.ts        # 엑셀 파싱/다운로드
│   ├── sizeNormalizer.ts      # 규격 정규화
│   └── analysisService.ts     # 데이터 분석
└── docs/                      # PDCA 문서
```

## 5. 현재 상태 (As-Is)

### 5.1 구현 완료 항목
- 전체 24개 컴포넌트 구현 완료
- 3개 서비스 모듈 구현 완료
- localStorage 기반 데이터 영속화 구현
- 병원별 데이터 격리 구현
- 엑셀 업로드/파싱/다운로드 구현
- 재고-수술기록 연동 자동 계산 구현
- 주문 관리 및 FAIL 관리 구현

### 5.2 현재 한계
- **백엔드 없음**: localStorage 기반으로 데이터 영속성 제한
- **멀티 디바이스 미지원**: 브라우저 로컬 데이터만 사용
- **보안 취약**: 클라이언트 사이드 인증, 비밀번호 미암호화
- **확장성 제한**: 단일 AppState로 모든 상태 관리

## 6. 향후 개선 방향 (To-Be)

| 우선순위 | 항목 | 설명 |
|----------|------|------|
| P0 | 백엔드 연동 | BaaS 또는 자체 API 서버 구축 |
| P1 | 인증 강화 | JWT 기반 인증, 비밀번호 해싱 |
| P1 | 실시간 동기화 | 멀티 디바이스 데이터 동기화 |
| P2 | 알림 시스템 | 재고 부족, 주문 상태 변경 알림 |
| P2 | 리포트 기능 | 월간/분기별 재고 분석 리포트 |
| P3 | 모바일 최적화 | 반응형 UI 개선 |

## 7. 성공 기준

- [ ] 모든 핵심 기능(F-01 ~ F-32)이 정상 작동
- [ ] 수술기록 업로드 시 재고 자동 연동 정확도 95% 이상
- [ ] 병원별 데이터 격리가 완벽히 동작
- [ ] 페이지 로드 시간 3초 이내

---

**Created**: 2026-02-15
**Level**: Dynamic
**Phase**: Plan
